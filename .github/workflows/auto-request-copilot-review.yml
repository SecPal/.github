# SPDX-FileCopyrightText: 2025 SecPal
# SPDX-License-Identifier: AGPL-3.0-or-later

name: Auto-request Copilot Review

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  request-copilot-review:
    name: Request Copilot Review
    runs-on: ubuntu-latest
    permissions:
      pull-requests: write
    steps:
      - name: Request Copilot review
        uses: actions/github-script@v8
        with:
          script: |
            const prNumber = context.payload.pull_request.number;

            // Copilot reviews cannot be requested programmatically via the GitHub API.
            // This workflow serves as a reminder in the Actions log.
            core.info('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
            core.info('â•‘  ğŸ“ REMINDER: Request a Copilot Review                 â•‘');
            core.info('â•‘                                                        â•‘');
            core.info('â•‘  Copilot reviews must be requested manually via:      â•‘');
            core.info('â•‘  1. GitHub UI (PR page)                                â•‘');
            core.info('â•‘  2. GitHub CLI: gh pr review --copilot                 â•‘');
            core.info('â•‘  3. API call (if you have the right permissions)       â•‘');
            core.info('â•‘                                                        â•‘');
            core.info('â•‘  This ensures code quality before merging! âœ¨          â•‘');
            core.info('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
